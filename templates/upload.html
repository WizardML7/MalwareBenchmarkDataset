{% extends "base.html" %}
{% block content %}
<div class="container">
    <h1>Upload a File</h1>
    <form id="uploadForm" action="/upload" method="post" enctype="multipart/form-data">
        <input type="file" name="files" multiple>
        <input type="submit" value="Upload">
    </form>
    <div id="progressMessage" style="display: none;">
        File is being processed, please wait...
    </div>

    {% with messages = get_flashed_messages() %}
      {% if messages %}
        <ul>
          {% for message in messages %}
            <li>{{ message }}</li>
          {% endfor %}
        </ul>
      {% endif %}
    {% endwith %}
</div>
{% endblock %}

{% block scripts %}
<script>
document.getElementById('uploadForm').addEventListener('submit', function() {
    document.getElementById('progressMessage').style.display = 'block';
});
</script>
{% endblock %}