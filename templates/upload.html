{% extends "base.html" %}
{% block content %}
<div class="container">
    <h1>Upload a File</h1>
    <form id="uploadForm" action="/upload" method="post" enctype="multipart/form-data">
        <div>
            <label for="script">Choose an analysis script:</label>
            <select name="script" id="script">
                <option value="ember_docker_script.sh">Ember Feature Set</option>
                <option value="script.sh">Strings</option>
                <option value="yet_another_script.sh">Yet Another Script</option>
                <!-- Add more options as needed -->
            </select>
        </div>
        <div>
            <input type="file" name="files" multiple>
        </div>
        <div>
            <input type="submit" value="Upload">
        </div>
    </form>
    <div id="progressMessage" style="display: none;">
        File is being processed, please wait...
    </div>

    {% with messages = get_flashed_messages() %}
      {% if messages %}
        <ul>
          {% for message in messages %}
            <li>{{ message }}</li>
          {% endfor %}
        </ul>
      {% endif %}
    {% endwith %}
</div>
{% endblock %}

{% block scripts %}
<script>
document.getElementById('uploadForm').addEventListener('submit', function() {
    document.getElementById('progressMessage').style.display = 'block';
});
</script>
{% endblock %}
